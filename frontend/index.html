<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rossi Podas</title>

    <link rel="icon" type="image/png" href="img/trator_rossi.png">

    <link rel="stylesheet" href="reset.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="cabecalho">
        <div class="container">
            <input type="checkbox" id="menu" class="container__botao">
            <label for="menu" class="container__rotulo">
                <span class="cabecalho__menu-hamburguer container__imagem"></span>
            </label>
            <ul class="lista-menu">
                <li class="lista-menu__titulo">Categorias</li>
                <li class="lista-menu__item">
                    <a href="#maquinas" class="lista-menu__link">Nossas Máquinas</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#servicos" class="lista-menu__link">Serviços</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#contato" class="lista-menu__link">Contato</a>
                </li>
            </ul>
            <a href="#"><img src="img/logo_poda.jpg" alt="Logo Rossi Podas" class="container__imagem"></a>
            <h1 class="container__titulo"><b class="container__titulo--negrito">Rossi</b>Tecnologia em Podas</h1>
        </div>

        <ul class="opcoes">
            <li class="opcoes__item"><a href="#servicos" class="opcoes__link">Serviços</a></li>
            <li class="opcoes__item"><a href="#contato" class="opcoes__link">Contato</a></li>
        </ul>
    </header>

    <section class="banner">
        <h2 class="banner__titulo">Alavanque sua produção com nossos serviços de poda</h2>
        <p class="banner__texto">Nossos profissionais são especialistas e contam com a mais recente tecnologia de ponta.</p>
        <a href="#contato" class="banner__botao-cta">Solicite um Orçamento Agora</a>
    </section>

    <section class="carrosel" id="maquinas">
        <h2 class="carrosel__titulo">Nossas Máquinas</h2>
        <div class="carrosel__container">
            <div class="swiper swiper-maquinas">
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="img/maquina1.jpg" alt="Máquina de poda 1"></div>
                    <div class="swiper-slide"><img src="img/maquina2.jpg" alt="Máquina de poda 2"></div>
                    <div class="swiper-slide"><img src="img/maquina3.jpg" alt="Máquina de poda 3"></div>
                    <div class="swiper-slide"><img src="img/carro_e_maquina.jpg" alt="Carro e máquina de poda"></div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </section>

    <section class="localizacao-atendidas">
        <h2 class="localizacao-atendidas__titulo">Localização</h2>
        <div class="card">
            <div class="card__descricao">
                <div class="descricao">
                    <h3 class="descricao__titulo">Vista Alegre do Alto - SP</h3>
                    <h2 class="descricao__titulo-card">Mas viajamos por todo estado de São Paulo e muito mais:</h2>
                    <p class="descricao__texto">Minas Gerais, Paraná, Mato Grosso do Sul. Com ajuda de pranchas e caminhões, nossas máquina percorrem o Brasil. </p>
                </div>
                <img src="img/caminhao_levando_trator.png" class="descricao__imagem" alt="Viajamos por todo Brasil">
            </div>
            <div class="card__botoes">
                <ul class="botoes">
                    <li class="botoes__item"><img src="img/brazil.png" alt="Viajamos o Brasil"></li>
                    <li class="botoes__item"><img src="img/tractor.png" alt="Trator"></li>
                </ul>
                <a href="#" class="botoes__ancora">Fale Conosco</a>
            </div>
        </div>
    </section>

    <section class="poda-em-acao">
        <h2 class="poda-em-acao__titulo">Poda em Ação</h2>
        <div class="carrosel__container">
            <div class="swiper swiper-midia">
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <video controls>
                            <source src="video/poda1.mp4" type="video/mp4">
                            Seu navegador não suporta o elemento de vídeo.
                        </video>
                    </div>
                    <div class="swiper-slide">
                        <video controls>
                            <source src="video/poda2.mp4" type="video/mp4">
                            Seu navegador não suporta o elemento de vídeo.
                        </video>
                    </div>
                    <div class="swiper-slide">
                        <video controls>
                            <source src="video/poda3.mp4" type="video/mp4">
                            Seu navegador não suporta o elemento de vídeo.
                        </video>
                    </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </section>

    <section class="agrishow">
        <h2 class="agrishow__titulo">Eventos</h2>
        <div class="card">
            <div class="card__descricao">
                <div class="descricao">
                    <h3 class="descricao__titulo">Agrishow 2024</h3>
                    <h2 class="descricao__titulo-card">Nossas máquinas esteve no maior evento agro do Brasil!</h2>
                    <p class="descricao__texto">Entretanto, ela fica bem melhor trabalhando, com nossa equipe realizando a sua poda. </p>
                </div>
                <img src="img/poda.jpg" class="descricao__imagem" alt="Agrishow 2024">
            </div>
            <div class="card__botoes">
                <ul class="botoes">
                    <li class="botoes__item"><img src="img/tractor.png" alt="Tecnologia no Agro"></li>
                    <li class="botoes__item"><img src="img/orange.png" alt="Agricultura"></li>
                </ul>
                <a href="#" class="botoes__ancora">Agende uma Visita</a>
            </div>
        </div>
    </section>

    <section class="topicos" id="servicos">
        <h2 class="topicos__titulo">Serviços</h2>
        <ul class="topicos__lista">
            <li class="topicos__item"><a href="#" class="topicos__link">Laranja</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Manga</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Abacate</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Limão</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Cerca Viva</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Frutas em Geral</a></li>
            <li class="topicos__item"><a href="#" class="topicos__link">Cítricos em Geral</a></li>
        </ul>
    </section>

    <section class="contato" id="contato">
        <div class="contato__descricao">
            <h2 class="contato__titulo">Solicite um Orçamento</h2>
            <p class="contato__texto">Não tem hora melhor para cuidar da sua plantação do que agora.</p>
        </div>
        <form class="contato__formulario" id="contato-formulario">
            <input type="text" placeholder="Seu nome completo..." class="contato__email" id="contato-nome" required>
            <input type="email" placeholder="Seu melhor email..." class="contato__email" id="contato-email" required>
            <textarea class="contato__mensagem" id="contato-mensagem" rows="4" placeholder="Como podemos te ajudar?" required></textarea>
            <button type="submit" class="contato__botao" id="botao-enviar">Enviar</button>
            <p id="status-envio" class="contato__status"></p> </form>
    </section>

    <hr />
    <footer class="rodape">
        <div class="rodape__container">
            <h2 class="rodape__titulo">Rossi Tecnologia em Podas</h2>
            <div class="rodape__contato">
                <a href="https://wa.me/5516997697884" target="_blank" class="rodape__link">
                    <img src="img/whatsapp.svg" alt="Ícone do WhatsApp" class="rodape__icone__whatsapp">
                    (16) 99769-7884
                </a>
                <a href="mailto:pedroluizrossi@gmail.com" class="rodape__link">
                    <img src="img/email.svg" alt="Ícone de Email" class="rodape__icone">
                    pedroluizrossi@gmail.com
                </a>
            </div>
            <div class="rodape__localizacao">
                <img src="img/local.svg" alt="Ícone de Localização" class="rodape__icone">
                <p class="rodape__texto">Vista Alegre do Alto - SP</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        // --- Configuração dos Carrosséis (Swiper) ---
        const swiperMaquinas = new Swiper('.swiper-maquinas', {
            spaceBetween: 10,
            slidesPerView: 3,
            pagination: { el: '.swiper-pagination', type: 'bullets' },
            navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
        });

        const swiperMidia = new Swiper('.swiper-midia', {
            spaceBetween: 10,
            slidesPerView: 1,
            pagination: { el: '.swiper-pagination', type: 'bullets' },
            navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
        });

        // --- Lógica do Formulário de Contato (ATUALIZADO) ---
        document.getElementById('contato-formulario').addEventListener('submit', function (event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const botao = document.getElementById('botao-enviar');
            const statusMsg = document.getElementById('status-envio');

            // Pega os valores dos campos do formulário
            const name = document.getElementById('contato-nome').value;
            const email = document.getElementById('contato-email').value;
            const message = document.getElementById('contato-mensagem').value;

            // Este caminho vai funcionar diretamente no netlify, onde o backend está configurado
            const apiEndpoint = '/api/send-email';

            // Feedback visual para o usuário
            botao.disabled = true;
            botao.innerText = 'Enviando...';
            statusMsg.innerText = '';
            statusMsg.style.color = 'inherit';

            // Envia os dados para a API
            fetch(apiEndpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, email, message }) // Envia nome, email e mensagem
            })
            .then(response => {
                if (!response.ok) {
                    // Se a resposta do servidor não for OK, lança um erro
                    throw new Error('Falha no envio. Tente novamente.');
                }
                return response.text(); // Usa .text() se o servidor envia uma string simples
            })
            .then(data => {
                console.log('Sucesso:', data);
                statusMsg.innerText = 'Mensagem enviada com sucesso!';
                statusMsg.style.color = 'green';
                document.getElementById('contato-formulario').reset(); // Limpa o formulário
            })
            .catch((error) => {
                console.error('Erro:', error);
                statusMsg.innerText = 'Ocorreu um erro. Por favor, tente novamente mais tarde.';
                statusMsg.style.color = 'red';
            })
            .finally(() => {
                // Reabilita o botão após o término da requisição
                botao.disabled = false;
                botao.innerText = 'Enviar';
            });
        });
    </script>
</body>

</html>